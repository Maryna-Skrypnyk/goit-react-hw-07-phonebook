(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{10:function(t,e,n){t.exports={Form:"ContactForm_Form__1gMQa",Label:"ContactForm_Label__1Q_PS",LabelText:"ContactForm_LabelText__3jiHg",Input:"ContactForm_Input__dTyEc",Button:"ContactForm_Button__1xHfZ"}},16:function(t,e,n){t.exports={ContactList:"ContactList_ContactList__oNZZB",ContactItem:"ContactList_ContactItem__3aqiD",Contact:"ContactList_Contact__1YbZ0",ContactName:"ContactList_ContactName__3cgi3",Button:"ContactList_Button__2maZ5"}},22:function(t,e,n){t.exports={Label:"Filter_Label__1wrck",LabelText:"Filter_LabelText__F4es_",Input:"Filter_Input__2CoqZ"}},41:function(t,e,n){t.exports={container:"Container_container__6-4i3"}},43:function(t,e,n){t.exports={IconButton:"IconButton_IconButton__3-4zw"}},81:function(t,e,n){},83:function(t,e,n){},85:function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"fetchContacts",(function(){return Y})),n.d(a,"addContact",(function(){return G})),n.d(a,"deleteContact",(function(){return K}));var c={};n.r(c),n.d(c,"getContacts",(function(){return W})),n.d(c,"getFilter",(function(){return X})),n.d(c,"getLoading",(function(){return tt})),n.d(c,"getError",(function(){return et})),n.d(c,"getVisibleContactsSortByName",(function(){return nt}));var r,o,u,i=n(0),l=n.n(i),s=n(18),b=n.n(s),d=n(9),j=n(44),f=n(21),m=n(4),O=n(11),h=n(40),p=n.n(h),C=n(3),x=n(5),v=Object(m.b)("contacts/fetchContactsRequest"),g=Object(m.b)("contacts/fetchContactsSuccess"),_=Object(m.b)("contacts/fetchContactsError"),y=Object(m.b)("contacts/addContactRequest"),L=Object(m.b)("contacts/addContactSuccess"),N=Object(m.b)("contacts/addContactError"),w=Object(m.b)("contacts/deleteContactRequest"),F=Object(m.b)("contacts/deleteContactSuccess"),I=Object(m.b)("contacts/deleteContactError"),B=Object(m.b)("contacts/changeFilter"),E=Object(m.c)([],(r={},Object(C.a)(r,g,(function(t,e){return e.payload})),Object(C.a)(r,L,(function(t,e){var n=e.payload;return[].concat(Object(f.a)(t),[n])})),Object(C.a)(r,F,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),r)),k=Object(m.c)(!1,(o={},Object(C.a)(o,v,(function(){return!0})),Object(C.a)(o,g,(function(){return!1})),Object(C.a)(o,_,(function(){return!1})),Object(C.a)(o,y,(function(){return!0})),Object(C.a)(o,L,(function(){return!1})),Object(C.a)(o,N,(function(){return!1})),Object(C.a)(o,w,(function(){return!0})),Object(C.a)(o,F,(function(){return!1})),Object(C.a)(o,I,(function(){return!1})),o)),S=Object(m.c)(null,(u={},Object(C.a)(u,_,(function(t,e){return e.payload})),Object(C.a)(u,v,(function(){return null})),Object(C.a)(u,N,(function(t,e){return e.payload})),Object(C.a)(u,y,(function(){return null})),Object(C.a)(u,I,(function(t,e){return e.payload})),Object(C.a)(u,w,(function(){return null})),u)),A=Object(m.c)("",Object(C.a)({},B,(function(t,e){return e.payload}))),Z=Object(x.b)({items:E,isLoading:k,error:S,filter:A}),z=[].concat(Object(f.a)(Object(m.d)({serializableCheck:{ignoredActions:[O.a,O.f,O.b,O.c,O.d,O.e]}})),[p.a]),T=Object(m.a)({reducer:{contacts:Z},middleware:z,devTools:!1}),D=n(41),q=n.n(D),P=n(1),M=function(t){var e=t.children;return Object(P.jsx)("div",{className:q.a.container,children:e})},R=function(t){var e=t.children;return Object(P.jsx)(M,{children:e})},J=n(30),U=n(25),V=n.n(U),H=n(42),Q=n(15),$=n.n(Q);$.a.defaults.baseURL="http://localhost:3000";var Y=function(){return function(){var t=Object(H.a)(V.a.mark((function t(e){var n,a;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(v()),t.prev=1,t.next=4,$.a.get("/contacts");case 4:n=t.sent,a=n.data,e(g(a)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(_(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},G=function(t,e){return function(n){var a={name:t,number:e};n(y()),$.a.post("/contacts",a).then((function(t){var e=t.data;return n(L(e))})).catch((function(t){return n(N(t))}))}},K=function(t){return function(e){e(w()),$.a.delete("contacts/".concat(t)).then((function(){return e(F(t))})).catch((function(t){return e(I(t))}))}},W=function(t){return t.contacts.items},X=function(t){return t.contacts.filter},tt=function(t){return t.contacts.isLoading},et=function(t){return t.contacts.error},nt=function(t){return function(t){var e=W(t),n=X(t).toLowerCase();return e.filter((function(t){return t.name.toLowerCase().includes(n)}))}(t).sort((function(t,e){var n=t.name.toUpperCase(),a=e.name.toUpperCase();return n<a?-1:n>a?1:0}))},at=n(26),ct=n.n(at),rt=n(10),ot=n.n(rt);var ut=function(){var t=Object(i.useState)(""),e=Object(J.a)(t,2),n=e[0],r=e[1],o=Object(i.useState)(""),u=Object(J.a)(o,2),l=u[0],s=u[1],b=Object(d.c)(c.getVisibleContactsSortByName),j=Object(d.b)(),f=ct.a.generate(),m=ct.a.generate(),O=function(t){var e=t.target,n=e.name,a=e.value;switch(n){case"name":r(a);break;case"number":s(a);break;default:return}},h=function(){r(""),s("")};return Object(P.jsxs)("form",{onSubmit:function(t){t.preventDefault(),b.find((function(e){return e.name===t.target.name.value}))?alert("".concat(t.target.name.value," is already in contacts")):b.find((function(e){return e.number===t.target.number.value}))?alert("Number ".concat(t.target.number.value," is already in contacts")):n&&""!==t.target.name.value.trim()||l&&""!==t.target.number.value.trim()?n&&""!==t.target.name.value.trim()?l&&""!==t.target.number.value.trim()?(j(a.addContact(n,l)),h()):alert('Field "Number" is empty'):alert('Field "Name" is empty'):alert('Fill in the fields "Name" and "Number"')},className:ot.a.Form,children:[Object(P.jsxs)("label",{htmlFor:f,className:ot.a.Label,children:[Object(P.jsx)("span",{className:ot.a.LabelText,children:"Name"}),Object(P.jsx)("input",{id:f,type:"text",name:"name",value:n,onChange:O,placeholder:"Enter name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",maxLength:"40",className:ot.a.Input})]}),Object(P.jsxs)("label",{htmlFor:m,className:ot.a.Label,children:[Object(P.jsx)("span",{className:ot.a.LabelText,children:"Number"}),Object(P.jsx)("input",{id:m,type:"tel",name:"number",value:l,onChange:O,placeholder:"Enter number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043a\u0440\u0443\u0433\u043b\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",maxLength:"18",className:ot.a.Input})]}),Object(P.jsx)("button",{type:"submit",className:ot.a.Button,children:"Add contact"})]})},it=n(22),lt=n.n(it),st=function(){var t=Object(d.c)(X),e=Object(d.b)();return Object(P.jsxs)("label",{className:lt.a.Label,children:[Object(P.jsx)("span",{className:lt.a.LabelText,children:"Find contacts by name"}),Object(P.jsx)("input",{type:"text",name:"name",value:t,onChange:function(t){return e(B(t.target.value))},placeholder:"Enter name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0,className:lt.a.Input})]})},bt=n(27),dt=n(45),jt=n(43),ft=n.n(jt),mt=["children","onDeleteContact"],Ot=function(t){var e=t.children,n=t.onDeleteContact,a=Object(dt.a)(t,mt);return Object(P.jsx)("button",Object(bt.a)(Object(bt.a)({type:"button",className:ft.a.IconButton,onClick:n},a),{},{children:e}))};Ot.defaultProps={onDeleteContact:function(){return null},children:null};var ht,pt,Ct=Ot,xt=["title","titleId"];function vt(){return(vt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}function gt(t,e){if(null==t)return{};var n,a,c=function(t,e){if(null==t)return{};var n,a,c={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(c[n]=t[n]);return c}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(c[n]=t[n])}return c}function _t(t,e){var n=t.title,a=t.titleId,c=gt(t,xt);return i.createElement("svg",vt({viewBox:"0 0 36 36",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":a},c),n?i.createElement("title",{id:a},n):null,ht||(ht=i.createElement("style",null)),pt||(pt=i.createElement("g",{id:"icons"},i.createElement("path",{d:"M6.2 3.5L3.5 6.2c-.7.7-.7 1.9 0 2.7l9.2 9.2-9.2 9.2c-.7.7-.7 1.9 0 2.7l2.6 2.6c.7.7 1.9.7 2.7 0l9.2-9.2 9.2 9.2c.7.7 1.9.7 2.7 0l2.6-2.6c.7-.7.7-1.9 0-2.7L23.3 18l9.2-9.2c.7-.7.7-1.9 0-2.7l-2.6-2.6c-.7-.7-1.9-.7-2.7 0L18 12.7 8.8 3.5c-.7-.7-1.9-.7-2.6 0z",id:"close_1_"}))))}var yt=i.forwardRef(_t),Lt=(n.p,n(16)),Nt=n.n(Lt),wt=function(t){var e=t.name,n=t.number,a=t.onDeleteContact;return Object(P.jsxs)("li",{className:Nt.a.ContactItem,children:[Object(P.jsxs)("p",{className:Nt.a.Contact,children:[Object(P.jsxs)("span",{className:Nt.a.ContactName,children:[e,":"]})," ",n]}),Object(P.jsx)(Ct,{onDeleteContact:a,"aria-label":"Delete contact",children:Object(P.jsx)(yt,{width:15,height:15})})]})},Ft=function(){var t=Object(d.c)(c.getVisibleContactsSortByName),e=Object(d.c)(c.getLoading),n=Object(d.b)();Object(i.useEffect)((function(){return n(a.fetchContacts())}),[n]);return 0===t.length?Object(P.jsx)("p",{children:"There are no contacts in the list"}):Object(P.jsxs)("ul",{className:Nt.a.ContactList,children:[t.map((function(t){var e=t.id,c=t.name,r=t.number;return Object(P.jsx)(wt,{name:c,number:r,onDeleteContact:function(){return function(t){return n(a.deleteContact(t))}(e)}},e)})),e&&Object(P.jsx)("h1",{children:"Loading..."})]})};n(81);var It=function(){return Object(P.jsxs)(R,{children:[Object(P.jsx)("h1",{children:"Phonebook"}),Object(P.jsx)(ut,{}),Object(P.jsx)("h2",{children:"Contacts"}),Object(P.jsx)(st,{}),Object(P.jsx)(Ft,{})]})};n(82),n(83);b.a.render(Object(P.jsx)(l.a.StrictMode,{children:Object(P.jsx)(d.a,{store:T,children:Object(P.jsx)(j.a,{children:Object(P.jsx)(It,{})})})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.e99a5805.chunk.js.map